{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport LayoutDiv from '../components/LayoutDiv';\nexport default {\n  name: 'LoginPage',\n  components: {\n    LayoutDiv\n  },\n  data() {\n    return {\n      email: '',\n      password: '',\n      validationErrors: {},\n      isSubmitting: false\n    };\n  },\n  created() {\n    if (localStorage.getItem('token') != \"\" && localStorage.getItem('token') != null) {\n      this.$router.push('/dashboard');\n    }\n  },\n  methods: {\n    loginAction() {\n      this.isSubmitting = true;\n      let payload = {\n        email: this.email,\n        password: this.password\n      };\n      axios.post('http://localhost:3000/api/logout', payload).then(response => {\n        localStorage.setItem('token', response.data.token);\n        this.$router.push('/dashboard');\n        return response;\n      }).catch(error => {\n        this.isSubmitting = false;\n        if (error.response.data.errors != undefined) {\n          this.validationErrors = error.response.data.errors;\n        }\n        if (error.response.data.error != undefined) {\n          this.validationErrors = error.response.data.error;\n        }\n        return error;\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","LayoutDiv","name","components","data","email","password","validationErrors","isSubmitting","created","localStorage","getItem","$router","push","methods","loginAction","payload","post","then","response","setItem","token","catch","error","errors","undefined"],"sources":["C:\\Users\\Utente\\Desktop\\ShoppableApplication\\admin\\src\\views\\login.vue"],"sourcesContent":["<template>\r\n    <layout-div>\r\n         <div class=\"row justify-content-md-center mt-5\">\r\n             <div class=\"col-4\">\r\n                 <div class=\"card\">\r\n                     <div class=\"card-body\">\r\n                         <h5 class=\"card-title mb-4\">Sign In</h5>\r\n                         <form>\r\n                             <p v-if=\"Object.keys(validationErrors).length != 0\" class='text-center '><small class='text-danger'>Incorrect Email or Password</small></p>\r\n                             <div class=\"mb-3\">\r\n                                 <label \r\n                                     htmlFor=\"email\"\r\n                                     class=\"form-label\">\r\n                                         Email address\r\n                                 </label>\r\n                                 <input \r\n                                     v-model=\"email\"\r\n                                     type=\"email\"\r\n                                     class=\"form-control\"\r\n                                     id=\"email\"\r\n                                     name=\"email\"\r\n                                 />\r\n                             </div>\r\n                             <div class=\"mb-3\">\r\n                                 <label \r\n                                     htmlFor=\"password\"\r\n                                     class=\"form-label\">Password\r\n                                 </label>\r\n                                 <input \r\n                                     v-model=\"password\"\r\n                                     type=\"password\"\r\n                                     class=\"form-control\"\r\n                                     id=\"password\"\r\n                                     name=\"password\"\r\n                                 />\r\n                             </div>\r\n                             <div class=\"d-grid gap-2\">\r\n                                 <button \r\n                                     :disabled=\"isSubmitting\"\r\n                                     @click=\"loginAction()\"\r\n                                     type=\"button\"\r\n                                     class=\"btn btn-primary btn-block\">Login</button>\r\n                                 <p class=\"text-center\">Don't have account? \r\n                                     <router-link to=\"/register\">Register here </router-link>\r\n                                 </p>\r\n                             </div>\r\n                         </form>\r\n                     </div>\r\n                 </div>\r\n             </div>\r\n         </div>\r\n          \r\n    </layout-div>\r\n </template>\r\n   \r\n <script>\r\n import axios from 'axios';\r\n import LayoutDiv from '../components/LayoutDiv';\r\n   \r\n export default {\r\n   name: 'LoginPage',\r\n   components: {\r\n     LayoutDiv,\r\n   },\r\n   data() {\r\n     return {\r\n         email:'',\r\n         password:'',\r\n         validationErrors:{},\r\n         isSubmitting:false,\r\n     };\r\n   },\r\n   created() {\r\n     if(localStorage.getItem('token') != \"\" && localStorage.getItem('token') != null){\r\n         this.$router.push('/dashboard')\r\n     }\r\n   },\r\n   methods: {\r\n      loginAction(){\r\n         this.isSubmitting = true\r\n         let payload = {\r\n             email: this.email,\r\n             password: this.password,\r\n         }\r\n         axios.post('http://localhost:3000/api/logout', payload)\r\n           .then(response => {\r\n             localStorage.setItem('token', response.data.token)\r\n             this.$router.push('/dashboard')\r\n             return response\r\n           })\r\n           .catch(error => {\r\n             this.isSubmitting = false\r\n            if (error.response.data.errors != undefined) {\r\n                 this.validationErrors = error.response.data.errors\r\n             }\r\n             if (error.response.data.error != undefined) {\r\n                 this.validationErrors = error.response.data.error\r\n             }\r\n             return error\r\n           });\r\n      }\r\n   },\r\n };\r\n </script>"],"mappings":";AAwDC,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,SAAQ,MAAO,yBAAyB;AAE/C,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACHC,KAAK,EAAC,EAAE;MACRC,QAAQ,EAAC,EAAE;MACXC,gBAAgB,EAAC,CAAC,CAAC;MACnBC,YAAY,EAAC;IACjB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,KAAK,EAAC,IAAKD,YAAY,CAACC,OAAO,CAAC,OAAO,KAAK,IAAI,EAAC;MAC5E,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,YAAY;IAClC;EACF,CAAC;EACDC,OAAO,EAAE;IACNC,WAAWA,CAAA,EAAE;MACV,IAAI,CAACP,YAAW,GAAI,IAAG;MACvB,IAAIQ,OAAM,GAAI;QACVX,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBC,QAAQ,EAAE,IAAI,CAACA;MACnB;MACAN,KAAK,CAACiB,IAAI,CAAC,kCAAkC,EAAED,OAAO,EACnDE,IAAI,CAACC,QAAO,IAAK;QAChBT,YAAY,CAACU,OAAO,CAAC,OAAO,EAAED,QAAQ,CAACf,IAAI,CAACiB,KAAK;QACjD,IAAI,CAACT,OAAO,CAACC,IAAI,CAAC,YAAY;QAC9B,OAAOM,QAAO;MAChB,CAAC,EACAG,KAAK,CAACC,KAAI,IAAK;QACd,IAAI,CAACf,YAAW,GAAI,KAAI;QACzB,IAAIe,KAAK,CAACJ,QAAQ,CAACf,IAAI,CAACoB,MAAK,IAAKC,SAAS,EAAE;UACxC,IAAI,CAAClB,gBAAe,GAAIgB,KAAK,CAACJ,QAAQ,CAACf,IAAI,CAACoB,MAAK;QACrD;QACA,IAAID,KAAK,CAACJ,QAAQ,CAACf,IAAI,CAACmB,KAAI,IAAKE,SAAS,EAAE;UACxC,IAAI,CAAClB,gBAAe,GAAIgB,KAAK,CAACJ,QAAQ,CAACf,IAAI,CAACmB,KAAI;QACpD;QACA,OAAOA,KAAI;MACb,CAAC,CAAC;IACP;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}