{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withModifiers as _withModifiers, Transition as _Transition, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-4 md:p-5 w-full max-w-xl mx-auto\"\n};\nconst _hoisted_2 = {\n  class: \"relative p-4 w-full max-w-3xl max-h-full\"\n};\nconst _hoisted_3 = {\n  class: \"relative bg-white rounded-lg shadow dark:bg-gray-700\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600\"\n}, [/*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"text-lg font-semibold text-gray-900 dark:text-white\"\n}, \" Account Informations \")], -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex flex-col justify_center\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"px-4 py-1 m-2\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"userName\",\n  text: \"samar ait lmaalem\",\n  class: \"block mb-2 text-sm font-medium text-left text-gray-900 dark:text-white\"\n}, \"Full Name\"), /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"text\",\n  name: \"username\",\n  id: \"userName\",\n  class: \"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\",\n  placeholder: \"Type user name\",\n  required: \"\"\n})]), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"px-4 py-2 m-2\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"phoneNumber\",\n  class: \"block mb-2 text-sm font-medium text-left text-gray-900 dark:text-white\"\n}, \"Phone number\"), /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"text\",\n  name: \"phoneNumber\",\n  id: \"phoneNumber\",\n  class: \"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\",\n  placeholder: \"Type user phone number\",\n  required: \"\"\n})]), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"px-4 py-2 m-2\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"address\",\n  class: \"block mb-2 text-sm font-medium text-left text-gray-900 dark:text-white\"\n}, \"Address\"), /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"text\",\n  name: \"address\",\n  id: \"address\",\n  class: \"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\",\n  required: \"\",\n  placeholder: \"Type user address\"\n})]), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"px-4 py-2 m-2\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\",\n  class: \"block mb-2 text-sm font-medium text-left text-gray-900 dark:text-white\"\n}, \"Email\"), /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"email\",\n  name: \"email\",\n  id: \"email\",\n  class: \"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\",\n  required: \"\",\n  placeholder: \"Type user email\"\n})])], -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"text-white mt-4 mb-4 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"\n}, \" Save \", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock(_Transition, {\n    name: \"modal\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"form\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Modal content \"), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Modal header \"), _hoisted_4, _createCommentVNode(\" Modal body \"), _createElementVNode(\"form\", {\n      class: \"p-4 md:p-5 w-full max-w-xl mx-auto\",\n      onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.handleSubmit && $options.handleSubmit(...args), [\"prevent\"])),\n      method: \"POST\"\n    }, [_hoisted_5, _hoisted_6, _createCommentVNode(\" <div\\r\\n                    v-if=\\\"accessMessage\\\"\\r\\n                    :class=\\\"{\\r\\n                      'text-green-600': successMessage,\\r\\n                      'text-red-600': !successMessage,\\r\\n                    }\\\"\\r\\n                  >\\r\\n                    {{ accessMessage }}\\r\\n                  </div> \")], 32 /* NEED_HYDRATION */)])])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","for","text","type","name","id","placeholder","required","_createBlock","_Transition","default","_withCtx","_hoisted_1","_hoisted_2","_createCommentVNode","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","$options","handleSubmit","method","_hoisted_5","_hoisted_6","_"],"sources":["C:\\Users\\Utente\\Desktop\\ShoppableApplication\\admin\\src\\views\\profil.vue"],"sourcesContent":["<template>\r\n  <Transition name=\"modal\">\r\n    <form class=\"p-4 md:p-5 w-full max-w-xl mx-auto\">\r\n      <div class=\"relative p-4 w-full max-w-3xl max-h-full\">\r\n        <!-- Modal content -->\r\n        <div class=\"relative bg-white rounded-lg shadow dark:bg-gray-700\">\r\n          <!-- Modal header -->\r\n          <div\r\n            class=\"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600\"\r\n          >\r\n            <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n              Account Informations\r\n            </h3>\r\n          </div>\r\n          <!-- Modal body -->\r\n          <form\r\n            class=\"p-4 md:p-5 w-full max-w-xl mx-auto\"\r\n            @submit.prevent=\"handleSubmit\"\r\n            method=\"POST\"\r\n          >\r\n            <div class=\"flex flex-col justify_center\">\r\n              <div class=\"px-4 py-1 m-2\">\r\n                <label\r\n                  for=\"userName\"\r\n                  text=\"samar ait lmaalem\"\r\n                  class=\"block mb-2 text-sm font-medium text-left text-gray-900 dark:text-white\"\r\n                  >Full Name</label\r\n                >\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  id=\"userName\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\r\n                  placeholder=\"Type user name\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div class=\"px-4 py-2 m-2\">\r\n                <label\r\n                  for=\"phoneNumber\"\r\n                  class=\"block mb-2 text-sm font-medium text-left text-gray-900 dark:text-white\"\r\n                  >Phone number</label\r\n                >\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"phoneNumber\"\r\n                  id=\"phoneNumber\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\r\n                  placeholder=\"Type user phone number\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div class=\"px-4 py-2 m-2\">\r\n                <label\r\n                  for=\"address\"\r\n                  class=\"block mb-2 text-sm font-medium text-left text-gray-900 dark:text-white\"\r\n                  >Address</label\r\n                >\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"address\"\r\n                  id=\"address\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\r\n                  required\r\n                  placeholder=\"Type user address\"\r\n                />\r\n              </div>\r\n              <div class=\"px-4 py-2 m-2\">\r\n                <label\r\n                  for=\"email\"\r\n                  class=\"block mb-2 text-sm font-medium text-left text-gray-900 dark:text-white\"\r\n                  >Email</label\r\n                >\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  id=\"email\"\r\n                  class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\r\n                  required\r\n                  placeholder=\"Type user email\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              class=\"text-white mt-4 mb-4 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"\r\n            >\r\n              Save\r\n            </button>\r\n            <!-- <div\r\n                    v-if=\"accessMessage\"\r\n                    :class=\"{\r\n                      'text-green-600': successMessage,\r\n                      'text-red-600': !successMessage,\r\n                    }\"\r\n                  >\r\n                    {{ accessMessage }}\r\n                  </div> -->\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </Transition>\r\n</template>\r\n<script>\r\n/* eslint-disable */\r\nimport authService from \"@/services/auth.service\";\r\nimport userService from \"../services/user.service\";\r\nimport EditUserModal from \"../components/User/EditUserModal.vue\";\r\nimport deleteUserModal from \"../components/User/deleteUserModal.vue\";\r\nimport Alert from \"../components/AlertModal.vue\";\r\n\r\nexport default {\r\n  name: \"user\",\r\n  components: {\r\n    EditUserModal,\r\n    deleteUserModal,\r\n    Alert,\r\n  },\r\n  data() {\r\n    return {\r\n      buttonText: \"Upload Image\",\r\n      showModal: false,\r\n      uploadedImage: null, // Add a data property to store the uploaded image\r\n      accessMessage: \"\",\r\n      users: [],\r\n      successMessage: false,\r\n      // Define data properties for managing modal and selected user\r\n      showEditModal: false,\r\n      showDeleteModal: false,\r\n      selectedUser: null,\r\n      showSuccessAlert: false,\r\n      message: \"\",\r\n      searchQuery: \"\",\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // Method to open edit modal and set selected user\r\n    editUser(user) {\r\n      console.log(user);\r\n      this.showEditModal = true;\r\n      this.selectedUser = user;\r\n      console.log(user.id);\r\n    },\r\n    deleteUser(user) {\r\n      console.log(user);\r\n      this.selectedUser = user;\r\n      this.showDeleteModal = true;\r\n      console.log(user._id);\r\n    },\r\n    async handleDeletetUser(deletedUser) {\r\n      console.log(\"Deleted user data:\", deletedUser);\r\n      // Fetch the updated list of users\r\n      const updatedUsersResponse = await userService.getAllUsers();\r\n      // Update the users array with the newly fetched list\r\n      this.users = updatedUsersResponse.data;\r\n      // Show success alert with delete message\r\n      this.showSuccessAlert = true;\r\n      this.message = \"User deleted successfully.\";\r\n    },\r\n    async handleEditUser(updatedUserData) {\r\n      console.log(\"Edited user data:\", updatedUserData);\r\n      // Fetch the updated list of users\r\n      const updatedUsersResponse = await userService.getAllUsers();\r\n      // Update the users array with the newly fetched list\r\n      this.users = updatedUsersResponse.data;\r\n      // Show success alert with edit message\r\n      this.showSuccessAlert = true;\r\n      this.message = \"User updated successfully.\";\r\n    },\r\n    handleModalClose() {\r\n      // Handle the modal close event here\r\n      this.showEditModal = false; // Close the modal\r\n    },\r\n    closeSuccessAlert() {\r\n      // Method to close the success alert\r\n      this.showSuccessAlert = false;\r\n    },\r\n    async handleSubmit(event) {\r\n      event.preventDefault();\r\n\r\n      // Extract user input from form fields\r\n      const username = event.target.elements.username.value;\r\n      const email = event.target.elements.email.value;\r\n      const phoneNumber = event.target.elements.phoneNumber.value;\r\n      const address = event.target.elements.address.value;\r\n      const password = event.target.elements.password.value;\r\n\r\n      const user = {\r\n        username: username,\r\n        email: email,\r\n        password: password,\r\n        phoneNumber: phoneNumber,\r\n        address: address,\r\n      };\r\n      try {\r\n        // Call the register method of authService to sign up the user\r\n        const response = await authService.register(user);\r\n\r\n        // Handle success response\r\n        this.accessMessage = response.data.message;\r\n        this.successMessage = true;\r\n        // Fetch the updated list of users\r\n        const updatedUsersResponse = await userService.getAllUsers();\r\n        // Update the users array with the newly fetched list\r\n        this.users = updatedUsersResponse.data;\r\n      } catch (error) {\r\n        // Handle error\r\n        console.error(\"Error signing up:\", error);\r\n        // Display error message to the user\r\n        this.accessMessage =\r\n          error.response.data.message || \"An error occurred while signing up.\";\r\n        this.successMessage = false;\r\n      }\r\n    },\r\n    closeModal() {\r\n      // Close the modal\r\n      this.showModal = false;\r\n      // Clear the accessMessage when modal is closed\r\n      this.accessMessage = \"\";\r\n    },\r\n    selectImage() {\r\n      this.$refs.fileInput.click();\r\n    },\r\n    handleImageUpload(event) {\r\n      const file = event.target.files[0];\r\n      this.uploadedImage = URL.createObjectURL(file);\r\n      this.buttonText = \"Change Image\";\r\n    },\r\n    handleSearch() {\r\n      // Triggered when search input changes\r\n      // You can perform additional actions here if needed\r\n    },\r\n  },\r\n  async mounted() {\r\n    // Move mounted method outside of the methods object\r\n    // Call getAllUsers method when the component is mounted\r\n    console.log(\"Component mounted\");\r\n    try {\r\n      const response = await userService.getAllUsers();\r\n\r\n      this.users = response.data; // Assign fetched users to the data property\r\n      // Map the users to include only the necessary fields (including the ID)\r\n    } catch (error) {\r\n      console.error(\"Error fetching users:\", error);\r\n      // Handle error\r\n    }\r\n  },\r\n  computed: {\r\n    filteredUsers() {\r\n      // Filter users based on search query\r\n      return this.users.filter((user) =>\r\n        user.username.toLowerCase().includes(this.searchQuery.toLowerCase())\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";;EAEUA,KAAK,EAAC;AAAoC;;EACzCA,KAAK,EAAC;AAA0C;;EAE9CA,KAAK,EAAC;AAAsD;gCAE/DC,mBAAA,CAMM;EALJD,KAAK,EAAC;AAAsF,I,aAE5FC,mBAAA,CAEK;EAFDD,KAAK,EAAC;AAAqD,GAAC,wBAEhE,E;gCAQAC,mBAAA,CAgEM;EAhEDD,KAAK,EAAC;AAA8B,I,aACvCC,mBAAA,CAeM;EAfDD,KAAK,EAAC;AAAe,I,aACxBC,mBAAA,CAIoB;EAHlBC,GAAG,EAAC,UAAU;EACdC,IAAI,EAAC,mBAAmB;EACxBH,KAAK,EAAC;GACL,WAAS,G,aAEZC,mBAAA,CAOE;EANAG,IAAI,EAAC,MAAM;EACXC,IAAI,EAAC,UAAU;EACfC,EAAE,EAAC,UAAU;EACbN,KAAK,EAAC,iRAAiR;EACvRO,WAAW,EAAC,gBAAgB;EAC5BC,QAAQ,EAAR;mBAIJP,mBAAA,CAcM;EAdDD,KAAK,EAAC;AAAe,I,aACxBC,mBAAA,CAGuB;EAFrBC,GAAG,EAAC,aAAa;EACjBF,KAAK,EAAC;GACL,cAAY,G,aAEfC,mBAAA,CAOE;EANAG,IAAI,EAAC,MAAM;EACXC,IAAI,EAAC,aAAa;EAClBC,EAAE,EAAC,aAAa;EAChBN,KAAK,EAAC,iRAAiR;EACvRO,WAAW,EAAC,wBAAwB;EACpCC,QAAQ,EAAR;mBAIJP,mBAAA,CAcM;EAdDD,KAAK,EAAC;AAAe,I,aACxBC,mBAAA,CAGkB;EAFhBC,GAAG,EAAC,SAAS;EACbF,KAAK,EAAC;GACL,SAAO,G,aAEVC,mBAAA,CAOE;EANAG,IAAI,EAAC,MAAM;EACXC,IAAI,EAAC,SAAS;EACdC,EAAE,EAAC,SAAS;EACZN,KAAK,EAAC,iRAAiR;EACvRQ,QAAQ,EAAR,EAAQ;EACRD,WAAW,EAAC;mBAGhBN,mBAAA,CAcM;EAdDD,KAAK,EAAC;AAAe,I,aACxBC,mBAAA,CAGgB;EAFdC,GAAG,EAAC,OAAO;EACXF,KAAK,EAAC;GACL,OAAK,G,aAERC,mBAAA,CAOE;EANAG,IAAI,EAAC,OAAO;EACZC,IAAI,EAAC,OAAO;EACZC,EAAE,EAAC,OAAO;EACVN,KAAK,EAAC,iRAAiR;EACvRQ,QAAQ,EAAR,EAAQ;EACRD,WAAW,EAAC;;gCAIlBN,mBAAA,CAKS;EAJPG,IAAI,EAAC,QAAQ;EACbJ,KAAK,EAAC;GACP,QAED;;uBAzFVS,YAAA,CAuGaC,WAAA;IAvGDL,IAAI,EAAC;EAAO;IAD1BM,OAAA,EAAAC,QAAA,CAEI,MAqGO,CArGPX,mBAAA,CAqGO,QArGPY,UAqGO,GApGLZ,mBAAA,CAmGM,OAnGNa,UAmGM,GAlGJC,mBAAA,mBAAsB,EACtBd,mBAAA,CAgGM,OAhGNe,UAgGM,GA/FJD,mBAAA,kBAAqB,EACrBE,UAMM,EACNF,mBAAA,gBAAmB,EACnBd,mBAAA,CAqFO;MApFLD,KAAK,EAAC,oCAAoC;MACzCkB,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAjBnBC,cAAA,KAAAC,IAAA,KAiB6BC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;MAC7BG,MAAM,EAAC;QAEPC,UAgEM,EACNC,UAKS,EACTX,mBAAA,wUAQgB,C;IAnG5BY,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}