{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row justify-content-md-center mt-5\"\n};\nconst _hoisted_2 = {\n  class: \"col-4\"\n};\nconst _hoisted_3 = {\n  class: \"card\"\n};\nconst _hoisted_4 = {\n  class: \"card-body\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"card-title mb-4\"\n}, \"Sign In\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  key: 0,\n  class: \"text-center\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"small\", {\n  class: \"text-danger\"\n}, \"Incorrect Email or Password\", -1 /* HOISTED */);\nconst _hoisted_8 = [_hoisted_7];\nconst _hoisted_9 = {\n  class: \"mb-3\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", {\n  htmlFor: \"email\",\n  class: \"form-label\"\n}, \" Email address \", -1 /* HOISTED */);\nconst _hoisted_11 = {\n  class: \"mb-3\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"label\", {\n  htmlFor: \"password\",\n  class: \"form-label\"\n}, \"Password \", -1 /* HOISTED */);\nconst _hoisted_13 = {\n  class: \"d-grid gap-2\"\n};\nconst _hoisted_14 = [\"disabled\"];\nconst _hoisted_15 = {\n  class: \"text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_layout_div = _resolveComponent(\"layout-div\");\n  return _openBlock(), _createBlock(_component_layout_div, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"form\", null, [Object.keys($data.validationErrors).length != 0 ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, [..._hoisted_8])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n      type: \"email\",\n      class: \"form-control\",\n      id: \"email\",\n      name: \"email\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n      type: \"password\",\n      class: \"form-control\",\n      id: \"password\",\n      name: \"password\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n      disabled: $data.isSubmitting,\n      onClick: _cache[2] || (_cache[2] = $event => $options.loginAction()),\n      type: \"button\",\n      class: \"btn btn-primary btn-block\"\n    }, \"Login\", 8 /* PROPS */, _hoisted_14), _createElementVNode(\"p\", _hoisted_15, [_createTextVNode(\"Don't have account? \"), _createVNode(_component_router_link, {\n      to: \"/register\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Register here \")]),\n      _: 1 /* STABLE */\n    })])])])])])])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","key","_hoisted_7","htmlFor","_createBlock","_component_layout_div","default","_withCtx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","Object","keys","$data","validationErrors","length","_createElementBlock","_hoisted_6","_hoisted_8","_createCommentVNode","_hoisted_9","_hoisted_10","_cache","$event","email","type","id","name","_hoisted_11","_hoisted_12","password","_hoisted_13","disabled","isSubmitting","onClick","$options","loginAction","_hoisted_14","_hoisted_15","_createTextVNode","_createVNode","_component_router_link","to","_"],"sources":["C:\\Users\\Utente\\Desktop\\ShoppableApplication\\admin\\src\\views\\login.vue"],"sourcesContent":["<template>\r\n    <layout-div>\r\n         <div class=\"row justify-content-md-center mt-5\">\r\n             <div class=\"col-4\">\r\n                 <div class=\"card\">\r\n                     <div class=\"card-body\">\r\n                         <h5 class=\"card-title mb-4\">Sign In</h5>\r\n                         <form>\r\n                             <p v-if=\"Object.keys(validationErrors).length != 0\" class='text-center '><small class='text-danger'>Incorrect Email or Password</small></p>\r\n                             <div class=\"mb-3\">\r\n                                 <label \r\n                                     htmlFor=\"email\"\r\n                                     class=\"form-label\">\r\n                                         Email address\r\n                                 </label>\r\n                                 <input \r\n                                     v-model=\"email\"\r\n                                     type=\"email\"\r\n                                     class=\"form-control\"\r\n                                     id=\"email\"\r\n                                     name=\"email\"\r\n                                 />\r\n                             </div>\r\n                             <div class=\"mb-3\">\r\n                                 <label \r\n                                     htmlFor=\"password\"\r\n                                     class=\"form-label\">Password\r\n                                 </label>\r\n                                 <input \r\n                                     v-model=\"password\"\r\n                                     type=\"password\"\r\n                                     class=\"form-control\"\r\n                                     id=\"password\"\r\n                                     name=\"password\"\r\n                                 />\r\n                             </div>\r\n                             <div class=\"d-grid gap-2\">\r\n                                 <button \r\n                                     :disabled=\"isSubmitting\"\r\n                                     @click=\"loginAction()\"\r\n                                     type=\"button\"\r\n                                     class=\"btn btn-primary btn-block\">Login</button>\r\n                                 <p class=\"text-center\">Don't have account? \r\n                                     <router-link to=\"/register\">Register here </router-link>\r\n                                 </p>\r\n                             </div>\r\n                         </form>\r\n                     </div>\r\n                 </div>\r\n             </div>\r\n         </div>\r\n          \r\n    </layout-div>\r\n </template>\r\n   \r\n <script>\r\n import axios from 'axios';\r\n import LayoutDiv from '../components/LayoutDiv';\r\n   \r\n export default {\r\n   name: 'LoginPage',\r\n   components: {\r\n     LayoutDiv,\r\n   },\r\n   data() {\r\n     return {\r\n         email:'',\r\n         password:'',\r\n         validationErrors:{},\r\n         isSubmitting:false,\r\n     };\r\n   },\r\n   created() {\r\n     if(localStorage.getItem('token') != \"\" && localStorage.getItem('token') != null){\r\n         this.$router.push('/dashboard')\r\n     }\r\n   },\r\n   methods: {\r\n      loginAction(){\r\n         this.isSubmitting = true\r\n         let payload = {\r\n             email: this.email,\r\n             password: this.password,\r\n         }\r\n         axios.post('http://localhost:3000/api/login', payload)\r\n           .then(response => {\r\n             localStorage.setItem('token', response.data.token)\r\n             this.$router.push('/Sidebar')\r\n             return response\r\n           })\r\n           .catch(error => {\r\n             this.isSubmitting = false\r\n            if (error.response.data.errors != undefined) {\r\n                 this.validationErrors = error.response.data.errors\r\n             }\r\n             if (error.response.data.error != undefined) {\r\n                 this.validationErrors = error.response.data.error\r\n             }\r\n             return error\r\n           });\r\n      }\r\n   },\r\n };\r\n </script>"],"mappings":";;EAEcA,KAAK,EAAC;AAAoC;;EACtCA,KAAK,EAAC;AAAO;;EACTA,KAAK,EAAC;AAAM;;EACRA,KAAK,EAAC;AAAW;gCAClBC,mBAAA,CAAwC;EAApCD,KAAK,EAAC;AAAiB,GAAC,SAAO;;EAN5DE,GAAA;EAQiFF,KAAK,EAAC;;gCAAeC,mBAAA,CAA8D;EAAvDD,KAAK,EAAC;AAAa,GAAC,6BAA2B;oBAAtDG,UAA8D,C;;EAClIH,KAAK,EAAC;AAAM;iCACbC,mBAAA,CAIQ;EAHJG,OAAO,EAAC,OAAO;EACfJ,KAAK,EAAC;GAAa,iBAEvB;;EASCA,KAAK,EAAC;AAAM;iCACbC,mBAAA,CAGQ;EAFJG,OAAO,EAAC,UAAU;EAClBJ,KAAK,EAAC;GAAa,WACvB;;EASCA,KAAK,EAAC;AAAc;oBApCtD;;EA0CoCA,KAAK,EAAC;AAAa;;;;uBAzCnDK,YAAA,CAmDaC,qBAAA;IApDjBC,OAAA,EAAAC,QAAA,CAES,MAgDM,CAhDNP,mBAAA,CAgDM,OAhDNQ,UAgDM,GA/CFR,mBAAA,CA8CM,OA9CNS,UA8CM,GA7CFT,mBAAA,CA4CM,OA5CNU,UA4CM,GA3CFV,mBAAA,CA0CM,OA1CNW,UA0CM,GAzCFC,UAAwC,EACxCZ,mBAAA,CAuCO,eAtCMa,MAAM,CAACC,IAAI,CAACC,KAAA,CAAAC,gBAAgB,EAAEC,MAAM,S,cAA7CC,mBAAA,CAA2I,KAA3IC,UAA2I,EARxK,IAAAC,UAAA,MAAAC,mBAAA,gBAS6BrB,mBAAA,CAaM,OAbNsB,UAaM,GAZFC,WAIQ,E,gBACRvB,mBAAA,CAME;MArBnC,uBAAAwB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAgB8CV,KAAA,CAAAW,KAAK,GAAAD,MAAA;MACdE,IAAI,EAAC,OAAO;MACZ5B,KAAK,EAAC,cAAc;MACpB6B,EAAE,EAAC,OAAO;MACVC,IAAI,EAAC;mDAJId,KAAA,CAAAW,KAAK,E,KAOtB1B,mBAAA,CAYM,OAZN8B,WAYM,GAXFC,WAGQ,E,gBACR/B,mBAAA,CAME;MAlCnC,uBAAAwB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA6B8CV,KAAA,CAAAiB,QAAQ,GAAAP,MAAA;MACjBE,IAAI,EAAC,UAAU;MACf5B,KAAK,EAAC,cAAc;MACpB6B,EAAE,EAAC,UAAU;MACbC,IAAI,EAAC;mDAJId,KAAA,CAAAiB,QAAQ,E,KAOzBhC,mBAAA,CASM,OATNiC,WASM,GARFjC,mBAAA,CAIoD;MAH/CkC,QAAQ,EAAEnB,KAAA,CAAAoB,YAAY;MACtBC,OAAK,EAAAZ,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEY,QAAA,CAAAC,WAAW;MACnBX,IAAI,EAAC,QAAQ;MACb5B,KAAK,EAAC;OAA4B,OAAK,iBAzC5EwC,WAAA,GA0CiCvC,mBAAA,CAEI,KAFJwC,WAEI,GA5CrCC,gBAAA,CA0CwD,sBACnB,GAAAC,YAAA,CAAwDC,sBAAA;MAA3CC,EAAE,EAAC;IAAW;MA3ChEtC,OAAA,EAAAC,QAAA,CA2CiE,MAAc,CA3C/EkC,gBAAA,CA2CiE,gBAAc,E;MA3C/EI,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}