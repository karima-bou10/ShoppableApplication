{"ast":null,"code":"import { ref, onMounted } from \"vue\";\n//import image from \"../assets/shopImage.jpeg\";\nimport CollectionService from \"../services/collection.service\";\nimport collectionInfoModal from \"../components/collectionInfoModal.vue\";\nimport AlertModal from \"./AlertModal.vue\";\nconst message = \"\";\nexport default {\n  __name: 'Collection',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    /* eslint-disable */\n    const collections = ref([]);\n    const selectedCollection = ref(null);\n    const showInfoModal = ref(false);\n    const showSuccessAlert = ref(false);\n    const fetchCollections = async () => {\n      try {\n        const response = await CollectionService.getAllCollections();\n        collections.value = response.data;\n        // Access dots property safely\n        collections.value.forEach((collection, index) => {\n          if (collection && collection.dots) {\n            console.log(`Collection ${index} dots:`, collection.dots);\n          } else {\n            console.log(`Collection ${index} does not have a dots property or is undefined`);\n          }\n        });\n      } catch (error) {\n        console.error(\"Error fetching collections:\", error);\n      }\n    };\n    const selectedImg = ref(null);\n    const toggleCollectionInfo = collection => {\n      showInfoModal.value = true;\n      selectedCollection.value = collection;\n      console.log(selectedCollection.dots);\n      //selectedCollection.value === collection ? null : collection;\n    };\n    // Method to delete a collection\n    const deleteCollection = async id => {\n      try {\n        await CollectionService.deleteCollection(id);\n        // Remove the deleted collection from the local state\n        collections.value = collections.value.filter(collection => collection._id !== id);\n        console.log(`Collection with id=${id} deleted successfully`);\n        this.showSuccessAlert = true;\n        this.message = \"Collection with id=${id} deleted successfully\";\n      } catch (error) {\n        console.error(`Error deleting collection with id=${id}:`, error);\n      }\n    };\n    onMounted(() => {\n      fetchCollections();\n    });\n    const __returned__ = {\n      collections,\n      selectedCollection,\n      showInfoModal,\n      showSuccessAlert,\n      message,\n      fetchCollections,\n      selectedImg,\n      toggleCollectionInfo,\n      deleteCollection,\n      ref,\n      onMounted,\n      get CollectionService() {\n        return CollectionService;\n      },\n      collectionInfoModal,\n      AlertModal\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","CollectionService","collectionInfoModal","AlertModal","message","collections","selectedCollection","showInfoModal","showSuccessAlert","fetchCollections","response","getAllCollections","value","data","forEach","collection","index","dots","console","log","error","selectedImg","toggleCollectionInfo","deleteCollection","id","filter","_id"],"sources":["C:/Users/Utente/Desktop/ShoppableApplication/admin/src/components/Collection.vue"],"sourcesContent":["<template>\r\n  <div class=\"bg-white overflow-y-scroll h-screen\">\r\n    <div class=\"mx-auto max-w-2xl px-4 py-10 lg:max-w-7xl lg:px-8\">\r\n      <AlertModal :message=\"message\" v-if=\"showSuccessAlert\" />\r\n      <div\r\n        class=\"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8\"\r\n      >\r\n        <collectionInfoModal\r\n          :selectedCollection=\"selectedCollection\"\r\n          v-if=\"showInfoModal\"\r\n          @close=\"showInfoModal = false\"\r\n        />\r\n        <div\r\n          v-for=\"collection in collections\"\r\n          :key=\"collection._id\"\r\n          class=\"group relative\"\r\n        >\r\n          <div\r\n            class=\"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-t-lg bg-gray-200 lg:aspect-none group-hover:opacity-75 lg:h-72\"\r\n          >\r\n            <img\r\n              :src=\"collection.imageUrl\"\r\n              alt=\"Collection Image\"\r\n              class=\"h-full w-full object-cover object-center lg:h-full lg:w-full\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"button-group mt-0 rounded-b-lg flex justify-around\">\r\n            <button type=\"button\" class=\"action-button edit-button\">\r\n              <div class=\"icon-container\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n                  <path\r\n                    fill=\"#ffffff\"\r\n                    d=\"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"action-button info-button\"\r\n              @click=\"toggleCollectionInfo(collection)\"\r\n            >\r\n              <div class=\"icon-container\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 192 512\">\r\n                  <path\r\n                    fill=\"#ffffff\"\r\n                    d=\"M48 80a48 48 0 1 1 96 0A48 48 0 1 1 48 80zM0 224c0-17.7 14.3-32 32-32H96c17.7 0 32 14.3 32 32V448h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H64V256H32c-17.7 0-32-14.3-32-32z\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"action-button delete-button\"\r\n              @click=\"deleteCollection(collection._id)\"\r\n            >\r\n              <div class=\"icon-container\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                  <path\r\n                    fill=\"#ffffff\"\r\n                    d=\"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n            </button>\r\n          </div>\r\n          <!-- Div for displaying collection information -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n/* eslint-disable */\r\nimport { ref, onMounted } from \"vue\";\r\n//import image from \"../assets/shopImage.jpeg\";\r\nimport CollectionService from \"../services/collection.service\";\r\nimport collectionInfoModal from \"../components/collectionInfoModal.vue\";\r\nimport AlertModal from \"./AlertModal.vue\";\r\n\r\nconst collections = ref([]);\r\nconst selectedCollection = ref(null);\r\nconst showInfoModal = ref(false);\r\nconst showSuccessAlert = ref(false);\r\nconst message = \"\";\r\n\r\nconst fetchCollections = async () => {\r\n  try {\r\n    const response = await CollectionService.getAllCollections();\r\n    collections.value = response.data;\r\n    // Access dots property safely\r\n    collections.value.forEach((collection, index) => {\r\n      if (collection && collection.dots) {\r\n        console.log(`Collection ${index} dots:`, collection.dots);\r\n      } else {\r\n        console.log(\r\n          `Collection ${index} does not have a dots property or is undefined`\r\n        );\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching collections:\", error);\r\n  }\r\n};\r\n\r\nconst selectedImg = ref(null);\r\n\r\nconst toggleCollectionInfo = (collection) => {\r\n  showInfoModal.value = true;\r\n  selectedCollection.value = collection;\r\n  console.log(selectedCollection.dots);\r\n  //selectedCollection.value === collection ? null : collection;\r\n};\r\n// Method to delete a collection\r\nconst deleteCollection = async (id) => {\r\n  try {\r\n    await CollectionService.deleteCollection(id);\r\n    // Remove the deleted collection from the local state\r\n    collections.value = collections.value.filter(\r\n      (collection) => collection._id !== id\r\n    );\r\n    console.log(`Collection with id=${id} deleted successfully`);\r\n    this.showSuccessAlert = true;\r\n    this.message = \"Collection with id=${id} deleted successfully\";\r\n  } catch (error) {\r\n    console.error(`Error deleting collection with id=${id}:`, error);\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  fetchCollections();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n/* width */\r\n::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n/* Track */\r\n::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n}\r\n\r\n/* Handle */\r\n::-webkit-scrollbar-thumb {\r\n  background: #888;\r\n  border-radius: 5px;\r\n}\r\n\r\n/* Handle on hover */\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n\r\n.button-group {\r\n  padding: 5% 10% 5% 10%;\r\n  background-color: gainsboro;\r\n}\r\n.action-button {\r\n  width: 1em;\r\n  height: 1em;\r\n  padding: 8%;\r\n  border-radius: 50%;\r\n  background-color: #476ffe;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.icon-container {\r\n  height: 15px;\r\n  margin: 5px auto;\r\n  display: flex;\r\n}\r\n</style>\r\n"],"mappings":"AA4EA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC;AACA,OAAOC,iBAAiB,MAAM,gCAAgC;AAC9D,OAAOC,mBAAmB,MAAM,uCAAuC;AACvE,OAAOC,UAAU,MAAM,kBAAkB;AAMzC,MAAMC,OAAO,GAAG,EAAE;;;;;;;;IAXlB;IAOA,MAAMC,WAAW,GAAGN,GAAG,CAAC,EAAE,CAAC;IAC3B,MAAMO,kBAAkB,GAAGP,GAAG,CAAC,IAAI,CAAC;IACpC,MAAMQ,aAAa,GAAGR,GAAG,CAAC,KAAK,CAAC;IAChC,MAAMS,gBAAgB,GAAGT,GAAG,CAAC,KAAK,CAAC;IAGnC,MAAMU,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMT,iBAAiB,CAACU,iBAAiB,CAAC,CAAC;QAC5DN,WAAW,CAACO,KAAK,GAAGF,QAAQ,CAACG,IAAI;QACjC;QACAR,WAAW,CAACO,KAAK,CAACE,OAAO,CAAC,CAACC,UAAU,EAAEC,KAAK,KAAK;UAC/C,IAAID,UAAU,IAAIA,UAAU,CAACE,IAAI,EAAE;YACjCC,OAAO,CAACC,GAAG,CAAE,cAAaH,KAAM,QAAO,EAAED,UAAU,CAACE,IAAI,CAAC;UAC3D,CAAC,MAAM;YACLC,OAAO,CAACC,GAAG,CACR,cAAaH,KAAM,gDACtB,CAAC;UACH;QACF,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD;IACF,CAAC;IAED,MAAMC,WAAW,GAAGtB,GAAG,CAAC,IAAI,CAAC;IAE7B,MAAMuB,oBAAoB,GAAIP,UAAU,IAAK;MAC3CR,aAAa,CAACK,KAAK,GAAG,IAAI;MAC1BN,kBAAkB,CAACM,KAAK,GAAGG,UAAU;MACrCG,OAAO,CAACC,GAAG,CAACb,kBAAkB,CAACW,IAAI,CAAC;MACpC;IACF,CAAC;IACD;IACA,MAAMM,gBAAgB,GAAG,MAAOC,EAAE,IAAK;MACrC,IAAI;QACF,MAAMvB,iBAAiB,CAACsB,gBAAgB,CAACC,EAAE,CAAC;QAC5C;QACAnB,WAAW,CAACO,KAAK,GAAGP,WAAW,CAACO,KAAK,CAACa,MAAM,CACzCV,UAAU,IAAKA,UAAU,CAACW,GAAG,KAAKF,EACrC,CAAC;QACDN,OAAO,CAACC,GAAG,CAAE,sBAAqBK,EAAG,uBAAsB,CAAC;QAC5D,IAAI,CAAChB,gBAAgB,GAAG,IAAI;QAC5B,IAAI,CAACJ,OAAO,GAAG,+CAA+C;MAChE,CAAC,CAAC,OAAOgB,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAE,qCAAoCI,EAAG,GAAE,EAAEJ,KAAK,CAAC;MAClE;IACF,CAAC;IAEDpB,SAAS,CAAC,MAAM;MACdS,gBAAgB,CAAC,CAAC;IACpB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}