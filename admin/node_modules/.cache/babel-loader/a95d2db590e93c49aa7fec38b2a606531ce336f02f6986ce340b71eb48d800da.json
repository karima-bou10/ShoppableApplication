{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\"\n};\nconst _hoisted_2 = {\n  class: \"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"sm:mx-auto sm:w-full sm:max-w-sm\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"mx-auto h-10 w-auto\",\n  src: \"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600\",\n  alt: \"Your Company\"\n}), /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\"\n}, \" Sign in to your account \")], -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"mb-4\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block text-sm font-medium leading-6 text-gray-900\",\n  type: \"text\",\n  for: \"username\"\n}, \" username \", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"mt-2\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex items-center justify-between\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block text-sm font-medium leading-6 text-gray-900\",\n  for: \"password\"\n}, \" Password \")], -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"mt-2\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex items-center justify-between\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\",\n  type: \"submit\"\n}, \" Sign In \")], -1 /* HOISTED */);\nconst _hoisted_10 = {\n  key: 0,\n  class: \"mb-4\"\n};\nconst _hoisted_11 = {\n  class: \"mt-10 text-center text-sm text-gray-500\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-center text-gray-500 text-xs\"\n}, \" Â©2024 Acme Corp. All rights reserved. \", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"form\", {\n    class: \"space-y-6\",\n    action: \"#\",\n    method: \"POST\",\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.username = $event),\n    class: \"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\",\n    id: \"username\",\n    type: \"text\",\n    required: \"\",\n    placeholder: \"username\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.username]])])]), _createElementVNode(\"div\", null, [_hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    required: \"\",\n    class: \"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\",\n    id: \"password\",\n    type: \"password\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])])]), _hoisted_9], 32 /* NEED_HYDRATION */), _ctx.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"p\", _hoisted_11, _toDisplayString(_ctx.errorMessage), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _hoisted_12])]);\n}","map":{"version":3,"names":["class","_createElementVNode","src","alt","type","for","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","action","method","onSubmit","_cache","_withModifiers","args","$options","login","_hoisted_4","_hoisted_5","_hoisted_6","$event","$data","username","id","required","placeholder","_hoisted_7","_hoisted_8","password","_hoisted_9","_ctx","errorMessage","_hoisted_10","_hoisted_11","_toDisplayString","_createCommentVNode","_hoisted_12"],"sources":["C:\\Users\\Utente\\Desktop\\ShoppableApplication\\admin\\src\\views\\login.vue"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\"\r\n  >\r\n    <div class=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n      <div class=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n        <img\r\n          class=\"mx-auto h-10 w-auto\"\r\n          src=\"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600\"\r\n          alt=\"Your Company\"\r\n        />\r\n        <h2\r\n          class=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\"\r\n        >\r\n          Sign in to your account\r\n        </h2>\r\n      </div>\r\n      <form class=\"space-y-6\" action=\"#\" method=\"POST\" @submit.prevent=\"login\">\r\n        <div class=\"mb-4\">\r\n          <label\r\n            class=\"block text-sm font-medium leading-6 text-gray-900\"\r\n            type=\"text\"\r\n            for=\"username\"\r\n          >\r\n            username\r\n          </label>\r\n          <div class=\"mt-2\">\r\n            <input\r\n              v-model=\"username\"\r\n              class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              id=\"username\"\r\n              type=\"text\"\r\n              required=\"\"\r\n              placeholder=\"username\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div class=\"flex items-center justify-between\">\r\n            <label\r\n              class=\"block text-sm font-medium leading-6 text-gray-900\"\r\n              for=\"password\"\r\n            >\r\n              Password\r\n            </label>\r\n          </div>\r\n          <div class=\"mt-2\">\r\n            <input\r\n              v-model=\"password\"\r\n              required=\"\"\r\n              class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"flex items-center justify-between\">\r\n          <button\r\n            class=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\r\n            type=\"submit\"\r\n          >\r\n            Sign In\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <div class=\"mb-4\" v-if=\"errorMessage\">\r\n        <p class=\"mt-10 text-center text-sm text-gray-500\">\r\n          {{ errorMessage }}\r\n        </p>\r\n      </div>\r\n      <p class=\"text-center text-gray-500 text-xs\">\r\n        &copy;2024 Acme Corp. All rights reserved.\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AuthService from \"@/services/auth.service\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    login() {\r\n      AuthService.login({ username: this.username, password: this.password })\r\n        .then((response) => {\r\n          // Authentication successful, store token\r\n          localStorage.setItem(\"token\", response.accessToken);\r\n          // Redirect to dashboard or protected route\r\n          this.$router.push(\"/dashboard\");\r\n        })\r\n        .catch((error) => {\r\n          // Handle login error\r\n          console.error(\"Login error:\", error);\r\n          if (error.response && error.response.status === 401) {\r\n            // Unauthorized access (wrong password)\r\n            this.errorMessage = \"Invalid username or password.\";\r\n          } else {\r\n            // Other error (network error, server error, etc.)\r\n            this.errorMessage = \"An error occurred during login.\";\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n// import { reactive } from \"vue\";\r\n// import { useRouter } from \"vue-router\";\r\n\r\n// export default {\r\n//   name: \"Login\",\r\n//   setup() {\r\n//     const data = reactive({\r\n//       email: \"\",\r\n//       password: \"\",\r\n//     });\r\n//     const router = useRouter();\r\n\r\n//     const submit = async () => {\r\n//       try {\r\n//         await fetch(\"http://localhost:3000/api/login\", {\r\n//           method: \"POST\",\r\n//           headers: { \"Content-Type\": \"application/json\" },\r\n//           credentials: \"include\",\r\n//           body: JSON.stringify(data),\r\n//         });\r\n\r\n//         router.push(\"/home\");\r\n//       } catch (error) {\r\n//         console.error(\"Error submitting login:\", error);\r\n//         // Handle the error (e.g., display a message to the user)\r\n//       }\r\n//     };\r\n\r\n//     return {\r\n//       data,\r\n//       submit,\r\n//     };\r\n//   },\r\n// };\r\n</script>\r\n<style></style>\r\n"],"mappings":";;EAEIA,KAAK,EAAC;AAAmE;;EAEpEA,KAAK,EAAC;AAAwC;gCACjDC,mBAAA,CAWM;EAXDD,KAAK,EAAC;AAAkC,I,aAC3CC,mBAAA,CAIE;EAHAD,KAAK,EAAC,qBAAqB;EAC3BE,GAAG,EAAC,kEAAkE;EACtEC,GAAG,EAAC;iBAENF,mBAAA,CAIK;EAHHD,KAAK,EAAC;AAA6E,GACpF,2BAED,E;;EAGKA,KAAK,EAAC;AAAM;gCACfC,mBAAA,CAMQ;EALND,KAAK,EAAC,mDAAmD;EACzDI,IAAI,EAAC,MAAM;EACXC,GAAG,EAAC;GACL,YAED;;EACKL,KAAK,EAAC;AAAM;gCAYjBC,mBAAA,CAOM;EAPDD,KAAK,EAAC;AAAmC,I,aAC5CC,mBAAA,CAKQ;EAJND,KAAK,EAAC,mDAAmD;EACzDK,GAAG,EAAC;GACL,YAED,E;;EAEGL,KAAK,EAAC;AAAM;gCAUnBC,mBAAA,CAOM;EAPDD,KAAK,EAAC;AAAmC,I,aAC5CC,mBAAA,CAKS;EAJPD,KAAK,EAAC,wPAAwP;EAC9PI,IAAI,EAAC;GACN,WAED,E;;EA9DVE,GAAA;EAiEWN,KAAK,EAAC;;;EACNA,KAAK,EAAC;AAAyC;iCAIpDC,mBAAA,CAEI;EAFDD,KAAK,EAAC;AAAmC,GAAC,yCAE7C;;uBAvEJO,mBAAA,CAyEM,OAzENC,UAyEM,GAtEJP,mBAAA,CAqEM,OArENQ,UAqEM,GApEJC,UAWM,EACNT,mBAAA,CA+CO;IA/CDD,KAAK,EAAC,WAAW;IAACW,MAAM,EAAC,GAAG;IAACC,MAAM,EAAC,MAAM;IAAEC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAjB9DC,cAAA,KAAAC,IAAA,KAiBwEC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;MACrEf,mBAAA,CAkBM,OAlBNkB,UAkBM,GAjBJC,UAMQ,EACRnB,mBAAA,CASM,OATNoB,UASM,G,gBARJpB,mBAAA,CAOE;IAlCd,uBAAAa,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IA4BuBC,KAAA,CAAAC,QAAQ,GAAAF,MAAA;IACjBtB,KAAK,EAAC,uMAAuM;IAC7MyB,EAAE,EAAC,UAAU;IACbrB,IAAI,EAAC,MAAM;IACXsB,QAAQ,EAAC,EAAE;IACXC,WAAW,EAAC;iDALHJ,KAAA,CAAAC,QAAQ,E,OASvBvB,mBAAA,CAkBM,cAjBJ2B,UAOM,EACN3B,mBAAA,CAQM,OARN4B,UAQM,G,gBAPJ5B,mBAAA,CAME;IArDd,uBAAAa,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAgDuBC,KAAA,CAAAO,QAAQ,GAAAR,MAAA;IACjBI,QAAQ,EAAC,EAAE;IACX1B,KAAK,EAAC,uMAAuM;IAC7MyB,EAAE,EAAC,UAAU;IACbrB,IAAI,EAAC;iDAJImB,KAAA,CAAAO,QAAQ,E,OAQvBC,UAOM,C,4BAEgBC,IAAA,CAAAC,YAAY,I,cAApC1B,mBAAA,CAIM,OAJN2B,WAIM,GAHJjC,mBAAA,CAEI,KAFJkC,WAEI,EAAAC,gBAAA,CADCJ,IAAA,CAAAC,YAAY,iB,KAnEzBI,mBAAA,gBAsEMC,WAEI,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}